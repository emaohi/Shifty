{% extends "manager/base.html" %}

{% block title %}
<title>New shift</title>
{% endblock %}

{% block comp_name %}
{{ user.profile.business }}
{% endblock %}

{% block style %}
    <style>
        .report-btn{
            margin-left:20px;
        }
    </style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="login-panel panel panel-default">
                <div class="panel-heading head-custom">
                    <h3 class="panel-title" style="display: inline">New {{ user.profile.business }} shift ({{ week_range }})</h3>
                    <a href="{% url 'home' %}" style="float: right">Back to dashboard</a>
                </div>
                <div class="panel-body" >
                    <form action="." method="post">
                        {% csrf_token %}
                        {% for field in form %}
                            {% if 'constraint' not in field.name %}
                                <p>
                                    <b>{{ field.label }}</b> {{ field }}
                                </p>
                            {% endif %}
                        {% endfor %}
                    <hr>
                    <div class="text-center">
                    <input type="submit" class="btn btn-info btn-lg" value="Submit">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                <h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
            </div>
           {% for field in form %}
                {% if 'constraint' in field.name %}
                    <p>
                        <b>{{ field.label }}</b> {{ field }}
                    </p>
                {% endif %}
            {% endfor %}
        </div>
    </div>
<!-- /.modal-content -->
</div>
  <!-- /.modal-dialog -->
{% endblock %}

{% block javascript %}

    <script>
    $(document).ready(function () {
        $('.attach-constraint').after(
                    '<button type="button" class="btn btn-warning btn-sm report-btn">' +
                    'Add constraints</button>');

        $('.btn-warning').click(function () {
            $('#edit').modal('show');
        })
    })
    </script>

{% endblock %}